extends flexLayout.pug

block links
  link(rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css")
  link(rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css")

block header
  include layout.pug

block content
  .row
    .col-8
      .submission-list
        each value, index in user.submissions
          .card(data-id=value._id)
            .card-block
              .card-title
                p !{value.title}
              a(href='/user/'+user.username+'/submission/'+value._id target="_blank")
                img(src='/public/image/folder_image.png' width='50' height='50')
              <br>
              small.mr-3 !{value.endTime}
              small.status.mr-3(data-ms=value.milliseconds) Status
              if (user.status === 'faculty')
                small
                  a.mr-3.change(href='javascript:;') Change Time
                  a.delete.mr-3(href='javascript:;') Delete
    if (user.status === 'faculty')
      .col-4
        .card
            .card-block
              .card-title#fac Create a New Submission Window
              p Title:
                input#title(type:"text")
              p Date: 
               input#datepicker(type="text")
              p Time:
                input#timepicker(type="text")
              button#create(type="button" class="btn btn-primary" data-dismiss="modal") Create
  a.mt-2(href='/user/'+user.username title="Back")
    i.fa.fa-arrow-left(aria-hidden="true")
  

block scripts
  script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js")
  script(src="https://code.jquery.com/jquery-1.12.4.js")
  script(src="https://code.jquery.com/ui/1.12.1/jquery-ui.js")
  script(src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js")
  script.
    var postPath = "http://localhost:3000/user/"+"#{user.username}"+"/course/"+"#{user.courseNo}";
  script(src="/public/my_scripts/submission_script.js")